<div class="table-background border">

<ng-template #generalTemplate>
  <app-create-vehicle (createVehicle)="refreshTable()"></app-create-vehicle>
</ng-template>

<ng-template #actionsTemplate let-data="templateData">
  <button class="btn" (click)="vehicle=data" data-toggle="modal" data-target="#deleteVehicle">
    <i class="fas fas fa-trash-alt"></i>
  </button>

  <button class="btn" (click)="vehicle=data"  data-toggle="modal" data-target="#editVehicle">
    <i class="fas fa-edit"></i>
  </button>

  <button class="btn" (click)="infoVehicle(data)"><i class="fas fa-info"></i></button>
</ng-template>

<ng-container *ngIf="vehicle">
  <app-delete-vehicle [vehicle]="vehicle" (deleteVehicle)="refreshTable()"></app-delete-vehicle>
  
  <app-edit-vehicle [vehicle]="vehicle" (updateVehicle)="refreshTable()"></app-edit-vehicle>
</ng-container>

<h2 class="text-center py-3 m-0">{{ 'Routing.vehicles' | translate }}</h2>

<div>
    <mat-fsp-table #table 
      [columnDefinitions]="columnDefinitions" 
      [columnNames]="columnNames" 
      [dataSource]="dataSource" 
      [actionContentTemplate]="actionsTemplate"
      [generalContentTemplate]="generalTemplate">
    </mat-fsp-table>
</div>
</div>
